"use strict";(self.webpackChunkMatdash=self.webpackChunkMatdash||[]).push([[464],{7464:(v,i,r)=>{r.r(i),r.d(i,{ProfileRoutes:()=>b});var t=r(9417),u=r(8834),f=r(2798),m=r(2102),n=r(5596),d=r(9631),c=r(2765),p=r(5951),e=r(3953),h=r(875);const b=[{path:"",component:(()=>{class l{constructor(s,o){this.fb=s,this.userService=o,this.profileForm=this.fb.group({name:["",t.k0.required],email:["",[t.k0.required,t.k0.email]],password:["",[t.k0.required]],role:["user"],subscriptionStatus:["free"]})}ngOnInit(){const s=sessionStorage.getItem("UserId");this.userService.getUserById(s).subscribe(o=>{this.profileForm.patchValue({name:o.name,email:o.email,password:o.password,role:"user",subscriptionStatus:"paid"})})}onSubmit(){const s=sessionStorage.getItem("UserId");s?this.userService.updateUser(s,this.profileForm.value).subscribe(a=>{console.log("Profile updated successfully",a),alert("Profile updated successfully")},a=>{console.error("Error updating profile",a),alert("Failed to update profile. Please try again later.")}):console.error("No UserId found in session storage")}static{this.\u0275fac=function(o){return new(o||l)(e.rXU(t.ok),e.rXU(h.D))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-profile"]],standalone:!0,features:[e.aNF],decls:27,vars:1,consts:[[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"b-t-1"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-lg-12"],[1,"f-w-600","m-b-8","d-block"],["appearance","outline","color","primary",1,"w-100"],["matInput","","placeholder","Your name","formControlName","name"],["matInput","","type","email","placeholder","Your email","formControlName","email"],["matInput","","type","password","placeholder","Your password","formControlName","password"],[1,"m-t-12"],["mat-flat-button","","color","primary","type","submit",1,"m-r-8"],["mat-stroked-button","","color","warn","type","button"]],template:function(o,a){1&o&&(e.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),e.EFF(3,"My Profile"),e.k0s()(),e.j41(4,"mat-card-content",2)(5,"form",3),e.bIt("ngSubmit",function(){return a.onSubmit()}),e.j41(6,"div",4)(7,"div",5)(8,"mat-label",6),e.EFF(9,"Your Name"),e.k0s(),e.j41(10,"mat-form-field",7),e.nrm(11,"input",8),e.k0s()(),e.j41(12,"div",5)(13,"mat-label",6),e.EFF(14,"Email"),e.k0s(),e.j41(15,"mat-form-field",7),e.nrm(16,"input",9),e.k0s()(),e.j41(17,"div",5)(18,"mat-label",6),e.EFF(19,"Password"),e.k0s(),e.j41(20,"mat-form-field",7),e.nrm(21,"input",10),e.k0s()()(),e.j41(22,"div",11)(23,"button",12),e.EFF(24,"Update"),e.k0s(),e.j41(25,"button",13),e.EFF(26,"Cancel"),e.k0s()()()()()),2&o&&(e.R7$(5),e.Y8G("formGroup",a.profileForm))},dependencies:[m.RG,m.rl,m.nJ,f.Ve,t.YN,t.qT,t.me,t.BC,t.cb,t.X1,t.j4,t.JD,p.Wk,u.Hl,u.$z,n.Hu,n.RN,n.m2,n.MM,n.dh,d.fS,d.fg,c.g7]})}}return l})()}]}}]);