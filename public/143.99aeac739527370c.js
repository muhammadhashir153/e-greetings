"use strict";(self.webpackChunkMatdash=self.webpackChunkMatdash||[]).push([[143],{5143:(H,C,r)=>{r.r(C),r.d(C,{CategoryRoutes:()=>L});var j=r(177),i=r(5596),c=r(9159),E=r(8582),F=r(9213),f=r(9115),l=r(8834),d=r(4710),t=r(3953),h=r(9086),w=r(4006);const b=()=>["name","description","templates","action"],R=()=>["add-new"],S=e=>["update",e];function D(e,s){1&e&&(t.j41(0,"th",15),t.EFF(1," Name "),t.k0s())}function N(e,s){if(1&e&&(t.j41(0,"td",16),t.EFF(1),t.k0s()),2&e){const o=s.$implicit;t.R7$(),t.SpI(" ",o.name," ")}}function $(e,s){1&e&&(t.j41(0,"th",15),t.EFF(1," Description "),t.k0s())}function T(e,s){if(1&e&&(t.j41(0,"td",16),t.EFF(1),t.k0s()),2&e){const o=s.$implicit;t.R7$(),t.SpI(" ",o.description," ")}}function M(e,s){1&e&&(t.j41(0,"th",15),t.EFF(1," Templates Assigned "),t.k0s())}function G(e,s){if(1&e&&(t.j41(0,"td",16),t.EFF(1),t.k0s()),2&e){const o=s.$implicit;t.R7$(),t.SpI(" ",o.templates.length," ")}}function x(e,s){1&e&&(t.j41(0,"th",15),t.EFF(1," Action "),t.k0s())}function I(e,s){if(1&e){const o=t.RV6();t.j41(0,"td",17)(1,"button",18)(2,"mat-icon"),t.EFF(3,"more_vert"),t.k0s()(),t.j41(4,"mat-menu",null,0)(6,"button",19)(7,"mat-icon"),t.EFF(8,"edit"),t.k0s(),t.j41(9,"span"),t.EFF(10,"Edit"),t.k0s()(),t.j41(11,"button",20),t.bIt("click",function(){const m=t.eBV(o).$implicit,p=t.XpG();return t.Njj(p.deleteCat(m.id))}),t.j41(12,"mat-icon"),t.EFF(13,"delete"),t.k0s(),t.j41(14,"span"),t.EFF(15,"Delete"),t.k0s()()()()}if(2&e){const o=s.$implicit,a=t.sdS(5);t.R7$(),t.Y8G("matMenuTriggerFor",a),t.R7$(5),t.Y8G("routerLink",t.eq3(2,S,o.id))}}function U(e,s){1&e&&t.nrm(0,"tr",21)}function Y(e,s){1&e&&t.nrm(0,"tr",22)}let J=(()=>{class e{constructor(o,a){this.catService=o,this.dialog=a,this.categories=[]}ngOnInit(){this.catService.getCategories().subscribe(o=>{this.categories=o,console.log(this.categories)})}deleteCat(o){this.catService.deleteCategory(o).subscribe(a=>{console.log(a),this.categories=this.categories.filter(m=>m.id!==o),alert("Category deleted successfully!")},a=>{console.error("Error deleting category",a),alert("An error occurred while deleting the category.")})}static{this.\u0275fac=function(a){return new(a||e)(t.rXU(h.M),t.rXU(w.bZ))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-categories"]],standalone:!0,features:[t.aNF],decls:23,vars:7,consts:[["menu","matMenu"],[1,"cardWithShadow"],[1,"table-responsive"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14 p-l-0",4,"matHeaderCellDef"],["mat-cell","","class","mat-subtitle-1 f-s-14 f-w-600",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","templates"],["matColumnDef","action"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["id","add-new-btn","mat-flat-button","","color","primary",3,"routerLink"],[1,"fas","fa-plus"],["mat-header-cell","",1,"f-w-600","mat-subtitle-1","f-s-14","p-l-0"],["mat-cell","",1,"mat-subtitle-1","f-s-14","f-w-600"],["mat-cell",""],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["mat-menu-item","",3,"routerLink"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(a,m){1&a&&(t.j41(0,"mat-card",1)(1,"mat-card-content")(2,"mat-card-title"),t.EFF(3,"Available Categories"),t.k0s(),t.j41(4,"div",2)(5,"table",3),t.qex(6,4),t.DNE(7,D,2,0,"th",5)(8,N,2,1,"td",6),t.bVm(),t.qex(9,7),t.DNE(10,$,2,0,"th",5)(11,T,2,1,"td",6),t.bVm(),t.qex(12,8),t.DNE(13,M,2,0,"th",5)(14,G,2,1,"td",6),t.bVm(),t.qex(15,9),t.DNE(16,x,2,0,"th",5)(17,I,16,4,"td",10),t.bVm(),t.DNE(18,U,1,0,"tr",11)(19,Y,1,0,"tr",12),t.k0s()()()(),t.j41(20,"button",13),t.nrm(21,"i",14),t.EFF(22," Add new"),t.k0s()),2&a&&(t.R7$(5),t.Y8G("dataSource",m.categories),t.R7$(13),t.Y8G("matHeaderRowDef",t.lJ4(4,b)),t.R7$(),t.Y8G("matRowDefColumns",t.lJ4(5,b)),t.R7$(),t.Y8G("routerLink",t.lJ4(6,R)))},dependencies:[j.MD,i.Hu,i.RN,i.m2,i.dh,c.tP,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB,E.G,f.kk,f.fb,f.Cp,l.$z,l.iY,F.An,F.m_,f.Cn,l.Hl,d.Wk],styles:["#add-new-btn[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px}"]})}}return e})();var n=r(9417),v=r(2798),u=r(2102),g=r(9631),k=r(2765),y=r(5951);const A=()=>["../../categories"],X=()=>["../../categories"],L=[{path:"",component:J},{path:"add-new",component:(()=>{class e{constructor(o,a){this.catService=o,this.route=a,this.data={},this.form=new n.gE({name:new n.MJ("",n.k0.required),description:new n.MJ("",n.k0.required)})}get name(){return this.form.get("name")}get description(){return this.form.get("description")}addCat(){this.form.valid?this.catService.addCategory(this.form.value).subscribe(o=>{console.log(o),alert("Success"),this.route.navigate(["/admin/categories"])},o=>{alert("Error Occured"),console.log("Error"+o)}):alert("Invalid Form")}static{this.\u0275fac=function(a){return new(a||e)(t.rXU(h.M),t.rXU(d.Ix))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-add-new"]],standalone:!0,features:[t.aNF],decls:23,vars:3,consts:[[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"b-t-1"],[3,"ngSubmit","formGroup"],[1,"row","justify-content-center"],[1,"col-lg-8"],[1,"f-w-600","m-b-8","d-block"],["appearance","outline","color","primary",1,"w-100"],["matInput","","formControlName","name","placeholder","category name "],["matInput","","formControlName","description","type","text","placeholder","category description"],[1,"m-t-12"],["mat-flat-button","","color","primary",1,"m-r-8"],["mat-stroked-button","","color","warn",3,"routerLink"]],template:function(a,m){1&a&&(t.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t.EFF(3,"Add new category"),t.k0s()(),t.j41(4,"mat-card-content",2)(5,"form",3),t.bIt("ngSubmit",function(){return m.addCat()}),t.j41(6,"div",4)(7,"div",5)(8,"mat-label",6),t.EFF(9,"Category Name"),t.k0s(),t.j41(10,"mat-form-field",7),t.nrm(11,"input",8),t.k0s()(),t.j41(12,"div",5)(13,"mat-label",6),t.EFF(14,"Description"),t.k0s(),t.j41(15,"mat-form-field",7),t.nrm(16,"input",9),t.k0s()(),t.j41(17,"div",5)(18,"div",10)(19,"button",11),t.EFF(20,"Add"),t.k0s(),t.j41(21,"button",12),t.EFF(22,"Cancel"),t.k0s()()()()()()()),2&a&&(t.R7$(5),t.Y8G("formGroup",m.form),t.R7$(16),t.Y8G("routerLink",t.lJ4(2,A)))},dependencies:[n.YN,n.qT,n.me,n.BC,n.cb,n.X1,n.j4,n.JD,l.Hl,l.$z,v.Ve,u.rl,u.nJ,u.RG,i.Hu,i.RN,i.m2,i.MM,i.dh,g.fS,g.fg,k.g7,y.Wk,d.Wk]})}}return e})()},{path:"update/:id",component:(()=>{class e{constructor(o,a,m,p){this.catService=o,this.route=a,this.activeRoute=m,this.fb=p}ngOnInit(){this.id=this.activeRoute.snapshot.paramMap.get("id"),this.form=this.fb.group({name:["",n.k0.required],description:["",n.k0.required]}),this.loadCategoryData(this.id)}loadCategoryData(o){this.catService.getCategoryById(o).subscribe(a=>{this.form=new n.gE({name:new n.MJ(a.name,n.k0.required),description:new n.MJ(a.description,n.k0.required)}),console.log(a)},a=>{console.error("Error fetching category data:",a)})}updateCategory(){this.form?.valid?this.catService.updateCategory(this.id,this.form.value).subscribe(o=>{console.log("Category updated successfully:",o),this.route.navigate(["/admin/categories"])},o=>{console.error("Error updating category:",o)}):alert("Please fill in all required fields.")}static{this.\u0275fac=function(a){return new(a||e)(t.rXU(h.M),t.rXU(d.Ix),t.rXU(d.nX),t.rXU(n.ok))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-update"]],standalone:!0,features:[t.aNF],decls:23,vars:3,consts:[[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"b-t-1"],[3,"ngSubmit","formGroup"],[1,"row","justify-content-center"],[1,"col-lg-8"],[1,"f-w-600","m-b-8","d-block"],["appearance","outline","color","primary",1,"w-100"],["matInput","","formControlName","name","placeholder","category name "],["matInput","","formControlName","description","type","text","placeholder","category description"],[1,"m-t-12"],["mat-flat-button","","color","primary",1,"m-r-8"],["mat-stroked-button","","color","warn",3,"routerLink"]],template:function(a,m){1&a&&(t.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t.EFF(3,"Add new category"),t.k0s()(),t.j41(4,"mat-card-content",2)(5,"form",3),t.bIt("ngSubmit",function(){return m.updateCategory()}),t.j41(6,"div",4)(7,"div",5)(8,"mat-label",6),t.EFF(9,"Category Name"),t.k0s(),t.j41(10,"mat-form-field",7),t.nrm(11,"input",8),t.k0s()(),t.j41(12,"div",5)(13,"mat-label",6),t.EFF(14,"Description"),t.k0s(),t.j41(15,"mat-form-field",7),t.nrm(16,"input",9),t.k0s()(),t.j41(17,"div",5)(18,"div",10)(19,"button",11),t.EFF(20,"Update"),t.k0s(),t.j41(21,"button",12),t.EFF(22,"Cancel"),t.k0s()()()()()()()),2&a&&(t.R7$(5),t.Y8G("formGroup",m.form),t.R7$(16),t.Y8G("routerLink",t.lJ4(2,X)))},dependencies:[n.YN,n.qT,n.me,n.BC,n.cb,n.X1,n.j4,n.JD,l.Hl,l.$z,v.Ve,u.rl,u.nJ,u.RG,i.Hu,i.RN,i.m2,i.MM,i.dh,g.fS,g.fg,k.g7,y.Wk,d.Wk]})}}return e})()}]}}]);